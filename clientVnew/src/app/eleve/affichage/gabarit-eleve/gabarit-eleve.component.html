<mdb-card>
  <mdb-card-header>
    <h3 *ngIf="titre">{{titre}}</h3>
  </mdb-card-header>


  <mdb-card-body>
    <mdb-card-text>

      <div class="row">
        <div class="col col-4 mx-auto">
          <mat-form-field>
            <mat-label>Filtrer</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="{{'label.rechercher' | translate}}">
          </mat-form-field>

        </div>
      </div>
      <div class="row">
        <div class="col col-lg">
          <table mat-table [dataSource]="dataSource" matSort>

            <!-- ID Column -->
            <ng-container matColumnDef="nom">
              <th class="bg-color-green" mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
              <td mat-cell *matCellDef="let row" data-label="nom" class="cut-text"> {{row.nom}} </td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="prenom">
              <th class="bg-color-green" mat-header-cell *matHeaderCellDef mat-sort-header> Prénom </th>
              <td mat-cell *matCellDef="let row" data-label="prenom" class="cut-text"> {{row.prenom}} </td>
            </ng-container>
            <!-- Progress Column -->
            <ng-container matColumnDef="coordonnee.telephone">
              <th class="bg-color-green" mat-header-cell *matHeaderCellDef mat-sort-header> Téléphone </th>
              <td mat-cell *matCellDef="let row" data-label="telephone" class="cut-text"> {{row.coordonnee?.telephone}}
              </td>
            </ng-container>
            <!-- Progress Column -->
            <ng-container matColumnDef="attestation.resultat_phase_une">
              <th class="bg-color-green" mat-header-cell *matHeaderCellDef mat-sort-header> Attestation </th>
              <td mat-cell *matCellDef="let row" data-label="attestation" style="text-align: center;"> <span
                  *ngIf="attestationValide(row)">
                  <i class="fas fa-file-contract"></i>
                </span>
                <span *ngIf="!attestationValide(row)">
                  <i class="fa fa-ban"></i>
                </span>
              </td>
            </ng-container>
            <!-- Progress Column -->
            <ng-container matColumnDef="modules">
              <th class="bg-color-green" mat-header-cell *matHeaderCellDef> Module </th>
              <td mat-cell *matCellDef="let row" data-label="module" style="text-align: center;">
                {{determinerPhase(row.modules)}}<span *ngIf="!determinerPhase(row.modules)">
                  <i class="fa fa-ban"></i>
                </span> </td>
            </ng-container>
            <!-- Progress Column -->
            <ng-container matColumnDef="id">
              <th class="bg-color-green" width="100" mat-header-cell *matHeaderCellDef> Action </th>
              <td mat-cell *matCellDef="let row" data-label="action">
                <div class="dropdown col col-4" style="text-align:right">
                  <button type="button" class="btn bg-color-green dropdown-toggle" data-toggle="dropdown">
                    <i class="fas fa-list"></i>
                  </button>
                  <div class="dropdown-menu row">
                    <!-- <a class="dropdown-item" routerLink="phase">Phase et module</a>
                <a class="dropdown-item" routerLink="personne">Personne responsable</a>
                <a class="dropdown-item" routerLink="ecole">École</a>
                <a routerLink="register" class="dropdown-item">S'inscrire</a> -->
                    <div class="col col-12 size-30 form-align-h">


                      <div title="Modifier" class="btn dropdown-item bg-color-green" (click)="editerEleve(row.id)"
                        style="margin-right:10px">
                        <i class="fas fa-pen"></i>
                      </div>
                      <div style="margin-right:10px" title="Contrat" class="btn dropdown-item bg-color-green"
                        (click)="contratEleve(row.id)">
                        <i class="fas fa-file-contract"></i>
                      </div>
                      <div style="margin-right:10px" title="Payement" class="btn dropdown-item bg-color-green"
                        (click)="payementEleve(row.id)">
                        <i class="fas fa-dollar-sign"></i>
                      </div>
                      <div style="margin-right:10px" title="Afficher" class="btn dropdown-item bg-color-green"
                        (click)="detailEleve(row.id)">
                        <i class="fas fa-eye"></i>
                      </div>
                      <div style="margin-right:10px" title="Attestation" class="btn dropdown-item bg-color-green"
                        (click)="attestationEleve(row.id)">
                        <i class="fas fa-file-contract"></i>
                      </div>
                      <div style="margin-right:10px" title="Examen" class="btn dropdown-item bg-color-green"
                        (click)="examenEleve(row)">
                        <i class="fas fa-clipboard"></i>
                      </div>
                      <div style="margin-right:10px" title="Note" class="btn dropdown-item bg-color-green"
                        (click)="noteEleve(row)">
                        <i class="fas fa-sticky-note"></i>
                      </div>
                      <div style="margin-right:10px" title="Sortie" class="btn dropdown-item bg-color-green"
                        (click)="sortieEleve(row)">
                        <i class="fas fa-car"></i>
                      </div>
                      <div title="Supprimer" class="btn dropdown-item bg-color-green" (click)="supprimerEleve(row.id)"
                        data-toggle="modal" data-target="#confirmerModal">
                        <i class="fas fa-trash-alt"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="headElements1"></tr>
            <tr mat-row *matRowDef="let row; columns: headElements1;">
            </tr>
          </table>

          <mat-paginator [pageSizeOptions]="[20,50, 100]"></mat-paginator>
        </div>
      </div>
    </mdb-card-text>
  </mdb-card-body>
</mdb-card>